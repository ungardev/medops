/* === Paleta corporativa MedOps === */
:root {
    --primary: #1E88E5;
    --primary-fg: #FFFFFF;
    --link-fg: #1E88E5;
    --link-hover-color: #1565C0;

    --success-bg: #E8F5E9;
    --success-fg: #2E7D32;
    --warning-bg: #FFFDE7;
    --warning-fg: #F57F17;
    --error-bg: #FFEBEE;
    --error-fg: #B71C1C;
}

/* Light mode */
html body:not(.dark-mode) {
    --body-bg: #FFFFFF;
    --body-fg: #212121;
    --header-bg: #1E88E5;
    --header-color: #FFFFFF;
    --breadcrumbs-bg: #F5F7FA;
    --breadcrumbs-fg: #212121;
    --border-color: #DDD;
    --module-bg: #FAFAFA;
    --module-fg: #212121;
    --module-header-bg: #E3F2FD;
    --module-header-fg: #1E88E5;
    --footer-bg: #F9F9F9;
    --footer-fg: #6D6D6D;
}

/* Dark mode */
html body.dark-mode,
html[data-theme="dark"] body.dark-mode {
    --body-bg: #121212;
    --body-fg: #E0E0E0;
    --header-bg: #1E1E1E;
    --header-color: #E0E0E0;
    --breadcrumbs-bg: #1E1E1E;
    --breadcrumbs-fg: #E0E0E0;
    --border-color: #333;
    --module-bg: #1E1E1E;
    --module-fg: #E0E0E0;
    --module-header-bg: #263238;
    --module-header-fg: #90CAF9;
    --footer-bg: #1E1E1E;
    --footer-fg: #AAAAAA;
    --link-fg: #90CAF9;
    --link-hover-color: #BBDEFB;
}

/* Transiciones suaves */
body, #header, #nav-sidebar, #changelist table, #medops-footer, #content {
    transition: background-color 0.4s ease, color 0.4s ease;
}
#site-name img { transition: opacity 0.4s ease; }
html body.dark-mode #site-name img { opacity: 0.9; }

/* General */
body { background-color: var(--body-bg); color: var(--body-fg); }
a { color: var(--link-fg); transition: color 0.3s ease; }
a:hover { color: var(--link-hover-color); }

/* Header */
#header { background-color: var(--header-bg); color: var(--header-color); }
#header h1, #header h1 a { color: var(--header-color); font-weight: bold; }

/* Sidebar */
#nav-sidebar, #nav-sidebar .module {
    background-color: var(--breadcrumbs-bg);
    color: var(--body-fg);
    border: 1px solid var(--border-color);
}
#nav-sidebar .current-model {
    background-color: var(--module-header-bg);
    border-left: 4px solid var(--primary);
}
#nav-sidebar a { color: var(--link-fg); }
#nav-sidebar a:hover { background-color: var(--module-header-bg); }

/* Modules */
.module {
    background-color: var(--module-bg);
    color: var(--module-fg);
    border: 1px solid var(--border-color);
}
.module h2, .module caption {
    background-color: var(--module-header-bg);
    color: var(--module-header-fg);
    border-bottom: 1px solid var(--border-color);
}

/* Tables */
#changelist table thead th {
    background-color: var(--module-header-bg);
    color: var(--module-header-fg);
    font-weight: bold;
}
#changelist table tbody tr:hover { background-color: #F1F8E9; }

/* Messages */
.success { background-color: var(--success-bg); color: var(--success-fg); border-left: 4px solid var(--success-fg); }
.warning { background-color: var(--warning-bg); color: var(--warning-fg); border-left: 4px solid var(--warning-fg); }
.errornote, .errorlist { background-color: var(--error-bg); color: var(--error-fg); border-left: 4px solid var(--error-fg); }

/* Footer */
#medops-footer {
    background-color: var(--footer-bg);
    color: var(--footer-fg);
    font-size: 12px;
    text-align: center;
    padding: 12px;
    border-top: 1px solid var(--border-color);
    margin-top: 20px;
}
#medops-footer a { color: var(--link-fg); text-decoration: none; }
#medops-footer a:hover { color: var(--link-hover-color); text-decoration: underline; }

/* Header */
html body.dark-mode #header {
    background-color: var(--header-bg);
    color: var(--header-color);
}
html body.dark-mode #header h1,
html body.dark-mode #header h1 a {
    color: var(--header-color);
}

/* Sidebar */
html body.dark-mode #nav-sidebar,
html body.dark-mode #nav-sidebar .module {
    background-color: var(--module-bg);
    border: 1px solid var(--border-color);
}
html body.dark-mode #nav-sidebar .current-model {
    background-color: var(--module-header-bg);
    border-left: 4px solid var(--primary);
}
html body.dark-mode #nav-sidebar a { color: var(--link-fg); }
html body.dark-mode #nav-sidebar a:hover { background-color: #2A2A2A; }

/* Content & Modules */
html body.dark-mode #content,
html body.dark-mode #content-main,
html body.dark-mode #content-related,
html body.dark-mode .dashboard {
    background-color: var(--body-bg);
    color: var(--body-fg);
}
html body.dark-mode .module {
    background-color: var(--module-bg);
    color: var(--module-fg);
    border: 1px solid var(--border-color);
}
html body.dark-mode .module h2,
html body.dark-mode .module caption {
    background-color: var(--module-header-bg);
    color: var(--module-header-fg);
    border-bottom: 1px solid var(--border-color);
}

/* Tables */
html body.dark-mode #changelist table thead th {
    background-color: var(--module-header-bg);
    color: var(--module-header-fg);
}
html body.dark-mode #changelist table tbody tr:hover {
    background-color: #2E2E2E;
}

/* Forms */
html body.dark-mode input,
html body.dark-mode select,
html body.dark-mode textarea {
    background-color: #121212;
    color: var(--body-fg);
    border: 1px solid var(--border-color);
}
html body.dark-mode input::placeholder { color: #888; }

/* Filters */
html body.dark-mode .changelist-filter,
html body.dark-mode .filters {
    background-color: var(--module-bg);
    color: var(--body-fg);
    border: 1px solid var(--border-color);
}
html body.dark-mode .changelist-filter h2,
html body.dark-mode .filters h2 {
    background-color: var(--module-header-bg);
    color: var(--module-header-fg);
}
html body.dark-mode .changelist-filter li a,
html body.dark-mode .filters li a {
    color: var(--body-fg);
}
html body.dark-mode .changelist-filter li a:hover,
html body.dark-mode .filters li a:hover {
    color: var(--link-hover-color);
}
html body.dark-mode .changelist-filter li.selected a,
html body.dark-mode .filters li.selected a {
    color: #fff;
    font-weight: 600;
}

/* Paginator & Actions */
html body.dark-mode .paginator,
html body.dark-mode .actions {
    background-color: var(--module-bg);
    color: var(--module-fg);
    border: 1px solid var(--border-color);
}
html body.dark-mode .paginator a { color: var(--link-fg); }

/* Footer */
html body.dark-mode #medops-footer {
    background-color: var(--footer-bg);
    color: var(--footer-fg);
    border-top: 1px solid var(--border-color);
}
html body.dark-mode #medops-footer a {
    color: var(--link-fg);
}
html body.dark-mode #medops-footer a:hover {
    color: var(--link-hover-color);
}

/* Botones */
.button, input[type=submit], .submit-row input {
    background-color: var(--primary) !important;
    color: var(--primary-fg) !important;
    border: none !important;
    border-radius: 4px;
    padding: 6px 12px;
    font-weight: bold;
    transition: background-color 0.3s ease;
}
.button:hover, input[type=submit]:hover, .submit-row input:hover {
    background-color: var(--link-hover-color) !important;
}
.button.cancel {
    background-color: #6D6D6D;
    color: #fff;
}
.button.cancel:hover { background-color: #424242; }

/* Scrollbars (dark mode) */
html body.dark-mode ::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}
html body.dark-mode ::-webkit-scrollbar-track { background: #1E1E1E; }
html body.dark-mode ::-webkit-scrollbar-thumb {
    background-color: #444;
    border-radius: 6px;
    border: 2px solid #1E1E1E;
}
html body.dark-mode ::-webkit-scrollbar-thumb:hover { background-color: #666; }
html body.dark-mode { scrollbar-color: #444 #1E1E1E; scrollbar-width: thin; }
